{"ast":null,"code":"import _classCallCheck from \"/home/svatostop/Desktop/\\u0445\\u0430\\u0445\\u0430\\u0442\\u043E\\u043D/maps/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/svatostop/Desktop/\\u0445\\u0430\\u0445\\u0430\\u0442\\u043E\\u043D/maps/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/svatostop/Desktop/\\u0445\\u0430\\u0445\\u0430\\u0442\\u043E\\u043D/maps/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/svatostop/Desktop/\\u0445\\u0430\\u0445\\u0430\\u0442\\u043E\\u043D/maps/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/svatostop/Desktop/\\u0445\\u0430\\u0445\\u0430\\u0442\\u043E\\u043D/maps/src/GeojsonLayer.jsx\";\nimport React from 'react';\nimport { GeoJSON, FeatureGroup, Popup } from 'react-leaflet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar GeojsonLayer = /*#__PURE__*/function (_React$Component) {\n  _inherits(GeojsonLayer, _React$Component);\n\n  var _super = _createSuper(GeojsonLayer);\n\n  function GeojsonLayer(props) {\n    var _this;\n\n    _classCallCheck(this, GeojsonLayer);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      data: []\n    };\n    console.log('constructor');\n    return _this;\n  }\n\n  _createClass(GeojsonLayer, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('render');\n      console.info(this.state.data);\n      return /*#__PURE__*/_jsxDEV(FeatureGroup, {\n        children: this.state.data.map(function (f) {\n          return /*#__PURE__*/_jsxDEV(GeoJSON, {\n            data: f,\n            children: /*#__PURE__*/_jsxDEV(Popup, {\n              children: f.properties.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 6\n            }, _this2)\n          }, f.properties.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 12\n          }, _this2);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 4\n      }, this);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.url) {\n        this.fetchData(this.props.url);\n      }\n\n      console.log('did mount');\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      console.log('will unmount');\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData(url) {\n      var _this3 = this;\n\n      var request = fetch(url);\n      request.then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        _this3.setState({\n          data: data.features\n        });\n      }, function (error) {\n        console.error(error);\n      });\n    }\n  }]);\n\n  return GeojsonLayer;\n}(React.Component);\n\nexport { GeojsonLayer as default };","map":{"version":3,"sources":["/home/svatostop/Desktop/хахатон/maps/src/GeojsonLayer.jsx"],"names":["React","GeoJSON","FeatureGroup","Popup","GeojsonLayer","props","state","data","console","log","info","map","f","properties","id","url","fetchData","request","fetch","then","r","json","setState","features","error","Component"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,YAAlB,EAAgCC,KAAhC,QAA4C,eAA5C;;;IAEqBC,Y;;;;;AACpB,wBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAC;AADO,KAAb;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AANiB;AAOjB;;;;WACD,kBAAQ;AAAA;;AAEPD,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAEAD,MAAAA,OAAO,CAACE,IAAR,CAAa,KAAKJ,KAAL,CAAWC,IAAxB;AACA,0BACC,QAAC,YAAD;AAAA,kBACC,KAAKD,KAAL,CAAWC,IAAX,CAAgBI,GAAhB,CAAoB,UAAAC,CAAC,EAAI;AACzB,8BAAO,QAAC,OAAD;AAA+B,YAAA,IAAI,EAAEA,CAArC;AAAA,mCACN,QAAC,KAAD;AAAA,wBAAQA,CAAC,CAACC,UAAF,CAAaC;AAArB;AAAA;AAAA;AAAA;AAAA;AADM,aAAcF,CAAC,CAACC,UAAF,CAAaC,EAA3B;AAAA;AAAA;AAAA;AAAA,oBAAP;AAGA,SAJA;AADD;AAAA;AAAA;AAAA;AAAA,cADD;AAUA;;;WACD,6BAAmB;AAElB,UAAG,KAAKT,KAAL,CAAWU,GAAd,EAAkB;AACjB,aAAKC,SAAL,CAAe,KAAKX,KAAL,CAAWU,GAA1B;AACA;;AAEDP,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEA;;;WACD,gCAAsB;AACrBD,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAEA;;;WACD,mBAAUM,GAAV,EAAc;AAAA;;AACb,UAAIE,OAAO,GAAGC,KAAK,CAACH,GAAD,CAAnB;AAEAE,MAAAA,OAAO,CACNE,IADD,CACM,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,OADP,EAECF,IAFD,CAEM,UAAAZ,IAAI,EAAI;AACb,QAAA,MAAI,CAACe,QAAL,CAAc;AACZf,UAAAA,IAAI,EAAEA,IAAI,CAACgB;AADC,SAAd;AAGC,OANF,EAMI,UAACC,KAAD,EAAW;AACbhB,QAAAA,OAAO,CAACgB,KAAR,CAAcA,KAAd;AACA,OARF;AAUA;;;;EAnDwCxB,KAAK,CAACyB,S;;SAA3BrB,Y","sourcesContent":["import React from 'react';\nimport { GeoJSON, FeatureGroup, Popup} from 'react-leaflet'\n\nexport default class GeojsonLayer extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata:[]\n\t\t};\n\n\t\tconsole.log('constructor');\n\t}\n\trender(){\n\n\t\tconsole.log('render');\n\n\t\tconsole.info(this.state.data);\n\t\treturn (\n\t\t\t<FeatureGroup>\n\t\t\t{this.state.data.map(f => {\n\t\t\t\treturn <GeoJSON key={f.properties.id} data={f}>\n\t\t\t\t\t<Popup>{f.properties.id}</Popup>\n\t\t\t\t</GeoJSON>\n\t\t\t})}\n\t\t\t</FeatureGroup>\n\t\t);\n\n\t}\n\tcomponentDidMount(){\n\n\t\tif(this.props.url){\n\t\t\tthis.fetchData(this.props.url);\n\t\t}\n\n\t\tconsole.log('did mount');\n\n\t}\n\tcomponentWillUnmount(){\n\t\tconsole.log('will unmount');\n\n\t}\n\tfetchData(url){\n\t\tlet request = fetch(url);\n\n\t\trequest\n\t\t.then(r => r.json())\n\t\t.then(data => {\n\t\t\tthis.setState({\n\t\t\t\t\tdata: data.features\n\t\t\t\t});\n\t\t\t}, (error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\n\t}\n}"]},"metadata":{},"sourceType":"module"}